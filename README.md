# КиноПоиск

## Выбор темы и целевой аудитории

Основной функционал сервиса: поиск, отображение информации и просмотр различных фильмов и сериалов. Управление подпиской и настройками.

На данный момент стриминговые сервисы является первыми по потреблению трафика. [kinopoisk.ru](https://www.kinopoisk.ru/media/news/3267713/comment/2117771/) Это привело к тому, что год назад власти ЕС "призвали YouTube и Netflix ухудшить качество видео из-за коронавируса", из-за возросшей нагрузки на сеть и большой доли трафика со стриминговыъ плащадок.[ixbt.com](https://www.ixbt.com/news/2020/03/20/youtube-i-netflix-uhudshat-kachestvo-video-izza-koronavirusa-.html)

Целевая аудитория: 4 млн активных пользователей
[vc.ru](https://vc.ru/media/239914-yandeks-otchitalsya-o-roste-chisla-smotryashchih-podpischikov-kinopoisk-hd-na-1-mln-za-dva-mesyaca-do-4-mln)
и 93 млн посещений в месяц в месяц [Вики](https://ru.wikipedia.org/wiki/%D0%9A%D0%B8%D0%BD%D0%BE%D0%9F%D0%BE%D0%B8%D1%81%D0%BA)
в возрасте от 25 до 34 лет. [Вики](https://ru.wikipedia.org/wiki/%D0%9A%D0%B8%D0%BD%D0%BE%D0%9F%D0%BE%D0%B8%D1%81%D0%BA)

## Расчет нагрузки

### Трафик

| Параметр               | Значение   |
| ---------------------- | ---------- |
| Аудитория              | 4 000 000  |
| Посещений в сутки      | 3 0000 000 |
| Всего фильмов          | 7770       |
| Просмотр пользователем | 110 м/день |

Источники:

-   [vc.ru](https://vc.ru/media/239914-yandeks-otchitalsya-o-roste-chisla-smotryashchih-podpischikov-kinopoisk-hd-na-1-mln-za-dva-mesyaca-do-4-mln)
-   [Вики](https://ru.wikipedia.org/wiki/%D0%9A%D0%B8%D0%BD%D0%BE%D0%9F%D0%BE%D0%B8%D1%81%D0%BA)
-   [kinopoisk.ru](https://www.kinopoisk.ru/media/news/4002246/)
-   [forbes.ru](https://www.forbes.ru/forbes-woman/402155-u-nas-prirost-na-400-kak-kinopoisk-ivi-start-i-premier-podnyali-biznes-vo-vremya)

### Пропускная способность сети в России

| Параметр  | Значение |
| --------- | -------- |
| Проводная | 93 Мб/с  |
| Мобильная | 28 Мб/с  |

Источник: [speedtest.net](https://www.speedtest.net/global-index/russia#mobile)

### Битрейт

| Параметр | Значение | Значение  |
| -------- | -------- | --------- |
| 720      | 3 МБ/с   | 10,8 ГБ/ч |
| 1080     | 6 МБ/с   | 21,6 ГБ/ч |
| 2160     | 24 МБ/с  | 86,4 ГБ/ч |

Источник: [Яндекс](https://yandex.ru/support/kinopoisk/online/player.html)

### Распределение по качеству просмотра

Предположим, что большая часть пользователей просматривает контент в HD, остальные по полам в SD и 4K.

| Параметр | Значение |
| -------- | -------- |
| 720      | 50 %     |
| 1080     | 25 %     |
| 2160     | 25 %     |

### Расчет трафика

| Параметр             | Значение                                                                                        |
| -------------------- | ----------------------------------------------------------------------------------------------- |
| Просмотров в день    | 3 000 000 \* 110 / 60 = 5 500 000 ч/день                                                        |
| Нагрузка             | 5 500 000 \* (0,5 \* 10,8 + 0,25 \* 21,6 + 0,25 \* 86,4) = 178 200 000 ГБ/день = 178,2 ПтБ/день |
| Пользователей онлайн | 5 500 000 / 24 = 230 000                                                                        |

### Расчет запросов

| Параметр                               | Значение |
| -------------------------------------- | -------- |
| Авторизация                            | 1        |
| Профиль                                | 1        |
| Получение главное страницы с контентом | 3        |
| Просмотр отдельных фильмов             | 5        |
| Поиск фильмов                          | 5        |
| Запуск плеера                          | 3        |
| Итого                                  | 18       |

Нагрузка: 18 \* 3 000 000 / (24 \* 60 \* 60) = 625 RPS

### Расчет объема медиа контента

Объем = 7770 \* 110 / 60 \* (10,8 + 21,6 + 86,4) = 1 692 306 ГБ = 1,7 ПтБ
